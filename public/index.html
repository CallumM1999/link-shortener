<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Link Shortener</title>

    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <div id="app">
        <page-header></page-header>

        <div class="create">
            <div class="container">
                <h2 class="title">Simplify your links</h2>
                <form @submit='addLink'>
                    <div class="row">
                        <input type="text" placeholder="Your original URL here" class="input" v-model='createInputLink'>
                        <input type="text" placeholder="Label" class="input" v-model='createInputLabel'>
                    </div>

                    <div class="row">
                        <button class='button' type='submit'>SHORTEN URL</button>
                    </div>
                </form>

                <div class="response" v-if='createMsg' v-cloak>
                    <p v-bind:class='createMsg.type' v-if='createMsg'>
                        <span v-if='createMsg.type === "error" || createMsg.type === "success"' v-cloak>{{createMsg.msg}}</span>
                        <span v-if='createMsg.type === "loading"'>Loading...</span>
                    </p>
                </div>
            </div>

        </div>

        <div class="container">
            <div class="search">
                <div class="left">
                    <div class="searchicon"></div>
                    <input type="text" placeholder="Filter" class="input" v-model='filter'>
                </div>
                <div class="right">
                    <button class="buttongrid" v-bind:class='{selected: !listDisplayList}' @click='toggleListDisplayOption'>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <button class="buttonlist" v-bind:class='{selected: listDisplayList}' @click='toggleListDisplayOption'>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>

            <div class="list" v-bind:class='{displayGrid: !listDisplayList}'>

                <ul class="table">
                    <div>
                        <li class="row title">
                            <ul class="rowlist-title">
                                <li class="rowcol">Name</li>
                                <li class="rowcol">Alias</li>
                                <li class="rowcol">Link</li>
                                <li class="rowcol">Visits</li>
                                <li class="rowcol"></li>
                            </ul>
                        </li>

                        <div v-cloak>
                            <li class="row" v-for='link in visibleLinks'>
                                <ul class="rowlist">

                                    <li class="rowcol label">{{ link.label }}</li>
                                    <li class="rowcol url">
                                        <a :href="'/link/' + link.url" class="link">{{ link.url }}</a>
                                    </li>

                                    <li class="rowcol link">
                                        <img :src='link.icon ? link.icon : "assets/defaultIcon.png"' class="icon">
                                        <span class="text">{{ link.link }}</span>
                                    </li>
                                    <li class="rowcol visits">{{ link.visits }}</li>
                                    <li class="rowcol options">
                                        <button class="options">
                                            <span></span>
                                            <span></span>
                                            <span></span>
                                        </button>
                                    </li>
                                </ul>
                            </li>
                        </div>
                    </div>
                </ul>

                <div class="controls">
                    <button class="button-previous" @click='handlePrevious' v-bind:class='{active: nextIndex > 0}'>Previous</button>
                    <button class="button-next" @click='handleNext' v-bind:class='{active: filteredLinks.length - ((nextIndex + 1) * 6) > 0}'>Next</button>
                </div>

                <div class="description" v-cloak>
                    Showing {{(nextIndex*6)+1}} - {{Math.min((nextIndex*6)+6, filteredLinks.length)}} of
                    {{filteredLinks.length}} total items
                </div>
            </div>
        </div>

        <div class="footer">
            <p>some footer</p>
        </div>

        <!-- <p><a href="http://documentation.commvault.com/commvault/v11_sp8/images/data_cube/analytics_dashboard.png">link</a></p> -->
        <!-- <p><a href="https://codepen.io/Reklino/pen/KwqwXP">link</a></p> -->

    </div>

    <script src="js/main.js"></script>
</body>

</html>